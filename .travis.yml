language: node_js
node_js:
- "8"
os:
- linux
- osx
cache:
  pip: true
  directories:
  - node_modules # NPM packages
dist: xenial
sudo: required
services:
- docker
before_install:
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then sudo apt update; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then sudo apt install python2.7 python3.6 python-pip curl unzip bats; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then brew update; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then brew install python3 curl unzip bats; fi
install:
- sudo npm install -g serverless depcheck
- sudo pip install pipenv
before_script:
- npm install
script:
- depcheck .
- npm run lint
- npm run test
